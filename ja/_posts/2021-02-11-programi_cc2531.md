---
lang: ja
lang-niv: auto
lang-ref: programi_cc2531
layout: post
title: 'USBキーをプログラムします _CC2531_'
---

# Lightningソフトウェアをインストールする

```bash
git clone https://github.com/jmichault/flash_cc2531.git
cd flash_cc2531
```
 
# zigbeeソフトウェアをダウンロードする
このサイトで最新バージョンのzigbeeコーディネーターをダウンロードします： <https://github.com/Koenkk/Z-Stack-firmware/raw/master/coordinator/Z-Stack_Home_1.2 / bin /デフォルト/>、ファイルを解凍します。

バージョンCC2531の例_DEFAULT_20201127.zip：

```bash
wget https://github.com/Koenkk/Z-Stack-firmware/raw/master/coordinator/Z-Stack_Home_1.2/bin/default/CC2531_DEFAULT_20201127.zip
unzip CC2531_DEFAULT_20201127.zip
```

# キーを接続します

4本の線 _Dupont_ をメスからメスに _raspberry_のピン35、36、38および39に接続します。 ( ピン2はラズベリーの角にあります。ウェブサイト <https：//pinout.xyz/>を参照して、周りの道を見つけてください)  
これらのラインを大きなDCケーブルコネクタに接続します：  
![](/public/raspberry-cc.png "disposition _raspberry_ et _CC_") 

| GPIO | CC |
| ---------------------------- | ------------------- | 
|ピン39 ( _GND_ )           |スピンドル1 ( _GND_ )  |	
|ピン36 ( _wPi 27, BCM16_ ) |ピン3 ( _DC_ )   | 
|ピン38 ( _wPi 28, BCM20_ ) |ピン4 ( _DD_ )   | 
|ピン35 ( _wPi 24, BCM19_ ) |ピン7 ( _reset_ )| 

次に、アダプターケーブルをキー (に接続し、接続方向)の写真を見て、キーをUSBポートの1つに挿入します：
![](/public/Raspberry-CC2531.jpg " _raspberry_ et _CC_") 


# プログラミングを行う

これを試してください：
```bash
cd flash_cc2531
./cc_chipid
```
戻らなければなりません：
```
  ID = b524.
```

キーの現在の内容を保持します：
```bash
./cc_read save.hex
```

キー _CC2531_でファイル _CC2531ZNP-Prod.hex_ をプログラムします：
```bash
./cc_erase
./cc_write CC2531ZNP-Prod.hex
```

# 問題が発生した場合
 [  _flash_cc2531_](https://jmichault.github.io/flash_cc2531-dok/)のウェブサイトを参照してください
